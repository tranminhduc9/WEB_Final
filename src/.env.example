# ==============================================
# HANOIVIVU - ENVIRONMENT CONFIGURATION
# ==============================================
# Copy this file to .env and update values
ENVIRONMENT=production
DEBUG=false

# ==============================================
# DATABASE - POSTGRESQL (AWS RDS Compatible)
# ==============================================
DATABASE_URL=postgresql://admin:your_password@localhost:5433/travel_db

# Docker Compose Variables
POSTGRES_USER=admin
POSTGRES_PASSWORD=your_password
POSTGRES_DB=travel_db
DB_PORT=5433

# Database Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# SSL Configuration (Required for AWS RDS)
# Options: disable, prefer, require, verify-ca, verify-full
DB_SSL_MODE=require
DB_SSL_CERT=
DB_SSL_KEY=
DB_SSL_ROOT_CERT=

# ==============================================
# MONGODB (Atlas Compatible)
# ==============================================
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/
MONGO_DB_NAME=hanoi_travel_mongo
MONGO_TIMEOUT=5000

# ==============================================
# JWT AUTHENTICATION
# ==============================================
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600
REFRESH_TOKEN_EXPIRATION=604800
SESSION_SECRET=session-secret-change-in-production

# ==============================================
# RATE LIMITING & THROTTLE
# ==============================================
RATE_LIMIT_ENABLED=true
THROTTLE_ENABLED=true
THROTTLE_MAX_ATTEMPTS=5
THROTTLE_LOCKOUT_DURATION=900

# ==============================================
# EMAIL - SENDGRID
# ==============================================
SENDGRID_API_KEY=your_sendgrid_api_key
FROM_EMAIL=your_email@example.com
FROM_NAME=Hanoivivu

# ==============================================
# EMAIL VALIDATION - HUNTER.IO
# ==============================================
HUNTER_IO_API_KEY=your_hunter_io_api_key
HUNTER_IO_DEBUG=false

# ==============================================
# FILE UPLOAD (AWS S3/CloudFront Compatible)
# ==============================================
# Local:      http://127.0.0.1:8080/static/uploads
# AWS S3:     https://your-bucket.s3.region.amazonaws.com/static/uploads
# CloudFront: https://d123abc.cloudfront.net/static/uploads
# IMPORTANT: This URL must include the /static/uploads path!
UPLOADS_BASE_URL=https://hanoivivu-img-01.s3.ap-southeast-2.amazonaws.com/static/uploads
MAX_FILE_SIZE=5242880

# AWS S3 Configuration
# Set USE_S3=true to enable S3 uploads (production)
# Set USE_S3=false to use local storage (development)
USE_S3=true
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_S3_BUCKET=hanoivivu-img-01
AWS_S3_REGION=ap-southeast-2

# ==============================================
# CHATBOT - GOOGLE GEMINI AI
# ==============================================
CHATBOT_API_KEY=your_gemini_api_key
CHATBOT_TIMEOUT=30.0

# ==============================================
# CORS & FRONTEND
# ==============================================
# Update with your EC2/domain URLs for production
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true
FRONTEND_URL=http://localhost:5173

# ==============================================
# SERVER (EC2 Compatible)
# ==============================================
# Use 0.0.0.0 for EC2 deployment
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8080

# ==============================================
# SECURE COOKIES
# ==============================================
# Set COOKIE_SECURE=true when using HTTPS (production)
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax
COOKIE_ACCESS_MAX_AGE=3600
COOKIE_REFRESH_MAX_AGE=604800

# ==============================================
# REDIS (Rate Limiting Storage)
# ==============================================
# Local: redis://localhost:6379
# AWS ElastiCache: redis://your-cluster.cache.amazonaws.com:6379
REDIS_URL=redis://localhost:6379

# ==============================================
# SECURITY (Production)
# ==============================================
HSTS_MAX_AGE=31536000
REQUEST_SIZE_LIMIT_ENABLED=true
MAX_JSON_BODY_SIZE=1048576

# ==============================================
# LOGGING
# ==============================================
ENABLE_AUDIT_LOG=true
ENABLE_SEARCH_LOGGING=true

# ==============================================
# FRONTEND (Vite)
# ==============================================
VITE_API_URL=http://127.0.0.1:8080/api/v1
